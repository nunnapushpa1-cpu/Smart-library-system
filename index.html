<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DIET College - Digital Library System</title>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            max-width: 450px;
            width: 100%;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .content {
            padding: 40px 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .error-message {
            background: #fee;
            color: #c33;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
            border-left: 4px solid #c33;
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            background: #f5f7fa;
            min-height: 100vh;
            width: 100%;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .dashboard-header h2 {
            margin-bottom: 5px;
        }

        .dashboard-header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            float: right;
            margin-top: -45px;
        }

        .logout-btn:hover {
            background: white;
            color: #667eea;
        }

        .dashboard-content {
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            text-align: center;
        }

        .stat-card h3 {
            color: #667eea;
            font-size: 36px;
            margin-bottom: 8px;
        }

        .stat-card p {
            color: #666;
            font-size: 14px;
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .search-box {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            margin-bottom: 20px;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }

        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .book-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .book-card h4 {
            color: #333;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .book-card p {
            color: #666;
            font-size: 13px;
            margin-bottom: 5px;
        }

        .book-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-edit {
            background: #4CAF50;
            color: white;
        }

        .btn-delete {
            background: #f44336;
            color: white;
        }

        .btn-borrow {
            background: #667eea;
            color: white;
            width: 100%;
        }

        .btn-small:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }

        .form-inline {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-inline input,
        .form-inline select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        .add-book-btn {
            background: #667eea;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
        }

        .add-book-btn:hover {
            background: #5568d3;
        }

        @media (max-width: 768px) {
            .form-inline {
                grid-template-columns: 1fr;
            }
            
            .book-grid {
                grid-template-columns: 1fr;
            }

            .logout-btn {
                float: none;
                display: block;
                margin-top: 15px;
                width: 100%;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Login Page -->
  <div class="container" id="loginContainer">
   <div class="header">
    <h1>üìö DIET College Library</h1>
    <p>Digital Library Management System</p>
   </div>
   <div class="content">
    <div class="error-message" id="errorMessage"></div>
    <form id="loginForm" onsubmit="handleLogin(event)">
     <div class="form-group"><label for="userType">Login As</label> <select id="userType" required> <option value="">-- Select User Type --</option> <option value="student">Student</option> <option value="admin">Admin</option> </select>
     </div>
     <div class="form-group"><label for="username">Username</label> <input type="text" id="username" placeholder="Enter your username" required>
     </div>
     <div class="form-group"><label for="password">Password</label> <input type="password" id="password" placeholder="Enter your password" required>
     </div><button type="submit" class="submit-btn">Login</button>
    </form>
    <div style="margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; font-size: 13px; color: #555;"><strong>Demo Credentials:</strong><br>
      üë®‚Äçüíº Admin: <code>admin</code> / <code>admin123</code><br>
      üë®‚Äçüéì Student: <code>student</code> / <code>student123</code>
    </div>
   </div>
  </div><!-- Student Dashboard -->
  <div class="dashboard" id="studentDashboard">
   <div class="dashboard-header">
    <h2>Student Portal</h2>
    <p>Welcome, <span id="studentName"></span>!</p><button class="logout-btn" onclick="logout()">Logout</button>
   </div>
   <div class="dashboard-content">
    <div class="stats-grid">
     <div class="stat-card">
      <h3 id="totalBooksStudent">0</h3>
      <p>Total Books</p>
     </div>
     <div class="stat-card">
      <h3 id="borrowedBooks">0</h3>
      <p>Borrowed Books</p>
     </div>
     <div class="stat-card">
      <h3 id="availableBooks">0</h3>
      <p>Available Books</p>
     </div>
    </div>
    <div class="section">
     <h3>Browse Books</h3><input type="text" class="search-box" id="studentSearch" placeholder="üîç Search books by title, author, or category..." oninput="searchBooksStudent()">
     <div class="book-grid" id="studentBookList"></div>
    </div>
   </div>
  </div><!-- Admin Dashboard -->
  <div class="dashboard" id="adminDashboard">
   <div class="dashboard-header">
    <h2>Admin Panel</h2>
    <p>Manage Library System</p><button class="logout-btn" onclick="logout()">Logout</button>
   </div>
   <div class="dashboard-content">
    <div class="stats-grid">
     <div class="stat-card">
      <h3 id="totalBooksAdmin">0</h3>
      <p>Total Books</p>
     </div>
     <div class="stat-card">
      <h3 id="totalCategories">0</h3>
      <p>Categories</p>
     </div>
     <div class="stat-card">
      <h3 id="totalBorrowed">0</h3>
      <p>Books Borrowed</p>
     </div>
    </div>
    <div class="section">
     <h3>Add New Book</h3>
     <form onsubmit="addBook(event)">
      <div class="form-inline"><input type="text" id="bookTitle" placeholder="Book Title" required> <input type="text" id="bookAuthor" placeholder="Author Name" required> <input type="text" id="bookISBN" placeholder="ISBN Number" required> <select id="bookCategory" required> <option value="">-- Select Category --</option> <option value="Fiction">Fiction</option> <option value="Non-Fiction">Non-Fiction</option> <option value="Science">Science</option> <option value="Technology">Technology</option> <option value="History">History</option> <option value="Biography">Biography</option> </select> <input type="number" id="bookCopies" placeholder="Number of Copies" min="1" required>
      </div><button type="submit" class="add-book-btn">‚ûï Add Book</button>
     </form>
    </div>
    <div class="section">
     <h3>Manage Books</h3><input type="text" class="search-box" id="adminSearch" placeholder="üîç Search books..." oninput="searchBooksAdmin()">
     <div class="book-grid" id="adminBookList"></div>
    </div>
   </div>
  </div>
  <script>
        // Sample book database
        let books = [
            { id: 1, title: "The Great Gatsby", author: "F. Scott Fitzgerald", isbn: "978-0743273565", category: "Fiction", copies: 5, borrowed: 2 },
            { id: 2, title: "To Kill a Mockingbird", author: "Harper Lee", isbn: "978-0060935467", category: "Fiction", copies: 4, borrowed: 1 },
            { id: 3, title: "1984", author: "George Orwell", isbn: "978-0451524935", category: "Fiction", copies: 6, borrowed: 3 },
            { id: 4, title: "Introduction to Algorithms", author: "Thomas H. Cormen", isbn: "978-0262033848", category: "Technology", copies: 3, borrowed: 1 },
            { id: 5, title: "A Brief History of Time", author: "Stephen Hawking", isbn: "978-0553380163", category: "Science", copies: 4, borrowed: 0 }
        ];

        let currentUser = null;
        let nextBookId = 6;

        // Login handler
        function handleLogin(event) {
            event.preventDefault();
            
            const userType = document.getElementById('userType').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');

            // Validate credentials
            if (userType === 'admin' && username === 'admin' && password === 'admin123') {
                currentUser = { type: 'admin', name: 'Administrator' };
                showAdminDashboard();
            } else if (userType === 'student' && username === 'student' && password === 'student123') {
                currentUser = { type: 'student', name: username };
                showStudentDashboard();
            } else {
                errorMessage.textContent = '‚ùå Invalid credentials! Please check username and password.';
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
            }
        }

        // Show student dashboard
        function showStudentDashboard() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('studentDashboard').style.display = 'block';
            document.getElementById('studentName').textContent = currentUser.name;
            updateStudentStats();
            displayStudentBooks();
        }

        // Show admin dashboard
        function showAdminDashboard() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('adminDashboard').style.display = 'block';
            updateAdminStats();
            displayAdminBooks();
        }

        // Logout
        function logout() {
            currentUser = null;
            document.getElementById('studentDashboard').style.display = 'none';
            document.getElementById('adminDashboard').style.display = 'none';
            document.getElementById('loginContainer').style.display = 'flex';
            document.getElementById('loginForm').reset();
        }

        // Update student statistics
        function updateStudentStats() {
            const totalBooks = books.length;
            const borrowed = books.reduce((sum, book) => sum + book.borrowed, 0);
            const available = books.reduce((sum, book) => sum + (book.copies - book.borrowed), 0);

            document.getElementById('totalBooksStudent').textContent = totalBooks;
            document.getElementById('borrowedBooks').textContent = borrowed;
            document.getElementById('availableBooks').textContent = available;
        }

        // Update admin statistics
        function updateAdminStats() {
            const totalBooks = books.length;
            const categories = new Set(books.map(book => book.category)).size;
            const borrowed = books.reduce((sum, book) => sum + book.borrowed, 0);

            document.getElementById('totalBooksAdmin').textContent = totalBooks;
            document.getElementById('totalCategories').textContent = categories;
            document.getElementById('totalBorrowed').textContent = borrowed;
        }

        // Display books for students
        function displayStudentBooks(filteredBooks = books) {
            const bookList = document.getElementById('studentBookList');
            bookList.innerHTML = '';

            filteredBooks.forEach(book => {
                const available = book.copies - book.borrowed;
                const card = document.createElement('div');
                card.className = 'book-card';
                card.innerHTML = `
                    <h4>üìñ ${book.title}</h4>
                    <p><strong>Author:</strong> ${book.author}</p>
                    <p><strong>Category:</strong> ${book.category}</p>
                    <p><strong>ISBN:</strong> ${book.isbn}</p>
                    <p><strong>Available:</strong> ${available} / ${book.copies}</p>
                    <div class="book-actions">
                        <button class="btn-small btn-borrow" onclick="borrowBook(${book.id})" ${available === 0 ? 'disabled' : ''}>
                            ${available === 0 ? '‚ùå Not Available' : 'üì• Borrow Book'}
                        </button>
                    </div>
                `;
                bookList.appendChild(card);
            });
        }

        // Display books for admin
        function displayAdminBooks(filteredBooks = books) {
            const bookList = document.getElementById('adminBookList');
            bookList.innerHTML = '';

            filteredBooks.forEach(book => {
                const card = document.createElement('div');
                card.className = 'book-card';
                card.innerHTML = `
                    <h4>üìñ ${book.title}</h4>
                    <p><strong>Author:</strong> ${book.author}</p>
                    <p><strong>Category:</strong> ${book.category}</p>
                    <p><strong>ISBN:</strong> ${book.isbn}</p>
                    <p><strong>Copies:</strong> ${book.copies} | <strong>Borrowed:</strong> ${book.borrowed}</p>
                    <div class="book-actions">
                        <button class="btn-small btn-edit" onclick="editBook(${book.id})">‚úèÔ∏è Edit</button>
                        <button class="btn-small btn-delete" onclick="deleteBook(${book.id})">üóëÔ∏è Delete</button>
                    </div>
                `;
                bookList.appendChild(card);
            });
        }

        // Add new book
        function addBook(event) {
            event.preventDefault();

            const newBook = {
                id: nextBookId++,
                title: document.getElementById('bookTitle').value,
                author: document.getElementById('bookAuthor').value,
                isbn: document.getElementById('bookISBN').value,
                category: document.getElementById('bookCategory').value,
                copies: parseInt(document.getElementById('bookCopies').value),
                borrowed: 0
            };

            books.push(newBook);
            updateAdminStats();
            displayAdminBooks();
            event.target.reset();
            alert('‚úÖ Book added successfully!');
        }

        // Delete book
        function deleteBook(id) {
            if (confirm('Are you sure you want to delete this book?')) {
                books = books.filter(book => book.id !== id);
                updateAdminStats();
                displayAdminBooks();
                alert('‚úÖ Book deleted successfully!');
            }
        }

        // Edit book (simplified - just shows alert)
        function editBook(id) {
            const book = books.find(b => b.id === id);
            alert(`Edit functionality for: ${book.title}\n\nThis feature can be enhanced with a modal form!`);
        }

        // Borrow book
        function borrowBook(id) {
            const book = books.find(b => b.id === id);
            if (book && book.borrowed < book.copies) {
                book.borrowed++;
                updateStudentStats();
                displayStudentBooks();
                alert(`‚úÖ You have successfully borrowed "${book.title}"!`);
            }
        }

        // Search books (student)
        function searchBooksStudent() {
            const query = document.getElementById('studentSearch').value.toLowerCase();
            const filtered = books.filter(book => 
                book.title.toLowerCase().includes(query) ||
                book.author.toLowerCase().includes(query) ||
                book.category.toLowerCase().includes(query)
            );
            displayStudentBooks(filtered);
        }

        // Search books (admin)
        function searchBooksAdmin() {
            const query = document.getElementById('adminSearch').value.toLowerCase();
            const filtered = books.filter(book => 
                book.title.toLowerCase().includes(query) ||
                book.author.toLowerCase().includes(query) ||
                book.category.toLowerCase().includes(query)
            );
            displayAdminBooks(filtered);
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9af6bb8a52853e1c',t:'MTc2NTk3Nzc4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>